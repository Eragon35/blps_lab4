<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_0fr9mxs" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.0.0">
  <bpmn:collaboration id="Collaboration_10ttlx7">
    <bpmn:participant id="Participant_0ny35hy" name="server                                                                                   client" processRef="my-project-process" />
  </bpmn:collaboration>
  <bpmn:process id="my-project-process" isExecutable="true">
    <bpmn:laneSet id="LaneSet_11vzbgo">
      <bpmn:lane id="Lane_122aqvy">
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>authrization</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1phpz03</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1ew3ubu</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0u5mbpn</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0va40q1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1x4i3uc</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0za2yd2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0yx9x0f</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0dmvo9p</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1saduz6</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_0x6ir2l</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_18juzk7</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_1ns65d8">
        <bpmn:flowNodeRef>Activity_1q2kw2y</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0zbu3hx</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1orghc2</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:startEvent id="StartEvent_1" name="newProcess">
      <bpmn:outgoing>SequenceFlow_1fp17al</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="authrization" name="Авторизация" camunda:formKey="camunda-forms:/forms/authorization.form" camunda:candidateUsers="demo">
      <bpmn:incoming>Flow_0dsid0a</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_16gzt2m</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_1phpz03" name="Выбор фильма" camunda:formKey="camunda-forms:/forms/film.form">
      <bpmn:incoming>Flow_1tt7d1f</bpmn:incoming>
      <bpmn:incoming>Flow_0nr44es</bpmn:incoming>
      <bpmn:outgoing>Flow_0d52duj</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_1ew3ubu" name="Выбор параметра для входа" camunda:formKey="camunda-forms:/forms/doYouHaveAc.form">
      <bpmn:incoming>SequenceFlow_1fp17al</bpmn:incoming>
      <bpmn:outgoing>Flow_13ozb9x</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_0u5mbpn" name="есть ли аккаунт">
      <bpmn:incoming>Flow_13ozb9x</bpmn:incoming>
      <bpmn:outgoing>Flow_0dsid0a</bpmn:outgoing>
      <bpmn:outgoing>Flow_1hizguw</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Activity_1q2kw2y" name="Проверка данных пользователя" camunda:delegateExpression="#{authorization}">
      <bpmn:incoming>SequenceFlow_16gzt2m</bpmn:incoming>
      <bpmn:outgoing>Flow_1tt7d1f</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Activity_0va40q1" name="Регистрация" camunda:formKey="camunda-forms:/forms/registration.form">
      <bpmn:incoming>Flow_1hizguw</bpmn:incoming>
      <bpmn:outgoing>Flow_0rz48rp</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Activity_1x4i3uc" name="Добавление пользователя в базу данных" camunda:delegateExpression="#{registration}">
      <bpmn:incoming>Flow_0rz48rp</bpmn:incoming>
      <bpmn:outgoing>Flow_0nr44es</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_0za2yd2" name="Есть коммантрий?">
      <bpmn:incoming>Flow_0z9cq8c</bpmn:incoming>
      <bpmn:outgoing>Flow_08aehas</bpmn:outgoing>
      <bpmn:outgoing>Flow_09ef7l8</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_0yx9x0f" name="Редактирование комментария" camunda:formKey="camunda-forms:/forms/oldComment.form">
      <bpmn:incoming>Flow_09ef7l8</bpmn:incoming>
      <bpmn:outgoing>Flow_0y0mef3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_0dmvo9p" name="Оставить комментарий" camunda:formKey="camunda-forms:/forms/comment.form">
      <bpmn:incoming>Flow_08aehas</bpmn:incoming>
      <bpmn:incoming>Flow_0r1v37z</bpmn:incoming>
      <bpmn:outgoing>Flow_0fiuw7n</bpmn:outgoing>
      <bpmn:outgoing>Flow_0ran69z</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_1saduz6" name="Оставить комментарий?">
      <bpmn:incoming>Flow_0y0mef3</bpmn:incoming>
      <bpmn:outgoing>Flow_0giod92</bpmn:outgoing>
      <bpmn:outgoing>Flow_0r1v37z</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="EndEvent_0x6ir2l">
      <bpmn:incoming>Flow_0ran69z</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="Event_18juzk7">
      <bpmn:incoming>Flow_0giod92</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:task id="Activity_0zbu3hx" name="Доавление комментр в базу данных">
      <bpmn:incoming>Flow_0fiuw7n</bpmn:incoming>
    </bpmn:task>
    <bpmn:task id="Activity_1orghc2" name="Плучение комментарие по фильму">
      <bpmn:incoming>Flow_0d52duj</bpmn:incoming>
      <bpmn:outgoing>Flow_0z9cq8c</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_0nr44es" sourceRef="Activity_1x4i3uc" targetRef="Activity_1phpz03" />
    <bpmn:sequenceFlow id="Flow_0r1v37z" name="нет" sourceRef="Gateway_1saduz6" targetRef="Activity_0dmvo9p">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{edit==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0giod92" name="да" sourceRef="Gateway_1saduz6" targetRef="Event_18juzk7">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{edit==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0y0mef3" sourceRef="Activity_0yx9x0f" targetRef="Gateway_1saduz6" />
    <bpmn:sequenceFlow id="Flow_09ef7l8" name="да" sourceRef="Gateway_0za2yd2" targetRef="Activity_0yx9x0f">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{oldComment==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_08aehas" name="нет" sourceRef="Gateway_0za2yd2" targetRef="Activity_0dmvo9p">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{oldComment==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0ran69z" sourceRef="Activity_0dmvo9p" targetRef="EndEvent_0x6ir2l" />
    <bpmn:sequenceFlow id="Flow_0rz48rp" sourceRef="Activity_0va40q1" targetRef="Activity_1x4i3uc" />
    <bpmn:sequenceFlow id="Flow_1hizguw" name="нет" sourceRef="Gateway_0u5mbpn" targetRef="Activity_0va40q1">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{account==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0dsid0a" name="да" sourceRef="Gateway_0u5mbpn" targetRef="authrization">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{account==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_13ozb9x" sourceRef="Activity_1ew3ubu" targetRef="Gateway_0u5mbpn" />
    <bpmn:sequenceFlow id="Flow_0z9cq8c" sourceRef="Activity_1orghc2" targetRef="Gateway_0za2yd2" />
    <bpmn:sequenceFlow id="Flow_0d52duj" sourceRef="Activity_1phpz03" targetRef="Activity_1orghc2" />
    <bpmn:sequenceFlow id="Flow_1tt7d1f" sourceRef="Activity_1q2kw2y" targetRef="Activity_1phpz03" />
    <bpmn:sequenceFlow id="SequenceFlow_16gzt2m" sourceRef="authrization" targetRef="Activity_1q2kw2y" />
    <bpmn:sequenceFlow id="SequenceFlow_1fp17al" sourceRef="StartEvent_1" targetRef="Activity_1ew3ubu" />
    <bpmn:sequenceFlow id="Flow_0fiuw7n" sourceRef="Activity_0dmvo9p" targetRef="Activity_0zbu3hx" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_10ttlx7">
      <bpmndi:BPMNShape id="Participant_0ny35hy_di" bpmnElement="Participant_0ny35hy" isHorizontal="true">
        <dc:Bounds x="160" y="77" width="1880" height="590" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_122aqvy_di" bpmnElement="Lane_122aqvy" isHorizontal="true">
        <dc:Bounds x="190" y="77" width="1850" height="323" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1ns65d8_di" bpmnElement="Lane_1ns65d8" isHorizontal="true">
        <dc:Bounds x="190" y="400" width="1850" height="267" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0nr44es_di" bpmnElement="Flow_0nr44es">
        <di:waypoint x="910" y="187" />
        <di:waypoint x="1040" y="187" />
        <di:waypoint x="1040" y="264" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0r1v37z_di" bpmnElement="Flow_0r1v37z">
        <di:waypoint x="1540" y="162" />
        <di:waypoint x="1540" y="217" />
        <di:waypoint x="1400" y="217" />
        <di:waypoint x="1400" y="264" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1407" y="235" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0giod92_di" bpmnElement="Flow_0giod92">
        <di:waypoint x="1565" y="137" />
        <di:waypoint x="1652" y="137" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1573" y="119" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0y0mef3_di" bpmnElement="Flow_0y0mef3">
        <di:waypoint x="1440" y="137" />
        <di:waypoint x="1515" y="137" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09ef7l8_di" bpmnElement="Flow_09ef7l8">
        <di:waypoint x="1200" y="279" />
        <di:waypoint x="1200" y="137" />
        <di:waypoint x="1340" y="137" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1209" y="205" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08aehas_di" bpmnElement="Flow_08aehas">
        <di:waypoint x="1225" y="304" />
        <di:waypoint x="1350" y="304" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1279" y="286" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ran69z_di" bpmnElement="Flow_0ran69z">
        <di:waypoint x="1450" y="304" />
        <di:waypoint x="1652" y="304" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rz48rp_di" bpmnElement="Flow_0rz48rp">
        <di:waypoint x="690" y="187" />
        <di:waypoint x="810" y="187" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hizguw_di" bpmnElement="Flow_1hizguw">
        <di:waypoint x="490" y="279" />
        <di:waypoint x="490" y="187" />
        <di:waypoint x="590" y="187" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="497" y="228" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dsid0a_di" bpmnElement="Flow_0dsid0a">
        <di:waypoint x="515" y="304" />
        <di:waypoint x="590" y="304" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="546" y="286" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13ozb9x_di" bpmnElement="Flow_13ozb9x">
        <di:waypoint x="420" y="304" />
        <di:waypoint x="465" y="304" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z9cq8c_di" bpmnElement="Flow_0z9cq8c">
        <di:waypoint x="1090" y="527" />
        <di:waypoint x="1200" y="527" />
        <di:waypoint x="1200" y="329" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0d52duj_di" bpmnElement="Flow_0d52duj">
        <di:waypoint x="1040" y="344" />
        <di:waypoint x="1040" y="487" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1tt7d1f_di" bpmnElement="Flow_1tt7d1f">
        <di:waypoint x="690" y="527" />
        <di:waypoint x="840" y="527" />
        <di:waypoint x="840" y="304" />
        <di:waypoint x="990" y="304" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_16gzt2m_di" bpmnElement="SequenceFlow_16gzt2m">
        <di:waypoint x="640" y="344" />
        <di:waypoint x="640" y="487" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1fp17al_di" bpmnElement="SequenceFlow_1fp17al">
        <di:waypoint x="248" y="304" />
        <di:waypoint x="320" y="304" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0fiuw7n_di" bpmnElement="Flow_0fiuw7n">
        <di:waypoint x="1400" y="344" />
        <di:waypoint x="1400" y="477" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="212" y="286" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="203" y="329" width="60" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_08mft2c_di" bpmnElement="authrization">
        <dc:Bounds x="590" y="264" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1mlohyh_di" bpmnElement="Activity_1phpz03">
        <dc:Bounds x="990" y="264" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0um986e_di" bpmnElement="Activity_1ew3ubu">
        <dc:Bounds x="320" y="264" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0u5mbpn_di" bpmnElement="Gateway_0u5mbpn" isMarkerVisible="true">
        <dc:Bounds x="465" y="279" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="450" y="336" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_09k16s7_di" bpmnElement="Activity_1q2kw2y">
        <dc:Bounds x="590" y="487" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0oqipzs_di" bpmnElement="Activity_0va40q1">
        <dc:Bounds x="590" y="147" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_01lpqqj_di" bpmnElement="Activity_1x4i3uc">
        <dc:Bounds x="810" y="147" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0za2yd2_di" bpmnElement="Gateway_0za2yd2" isMarkerVisible="true">
        <dc:Bounds x="1175" y="279" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1206" y="322" width="68" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0t9vh3i_di" bpmnElement="Activity_0yx9x0f">
        <dc:Bounds x="1340" y="97" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_16ogyfm_di" bpmnElement="Activity_0dmvo9p">
        <dc:Bounds x="1350" y="264" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1saduz6_di" bpmnElement="Gateway_1saduz6" isMarkerVisible="true">
        <dc:Bounds x="1515" y="112" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1504" y="82" width="74" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0x6ir2l_di" bpmnElement="EndEvent_0x6ir2l">
        <dc:Bounds x="1652" y="286" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_18juzk7_di" bpmnElement="Event_18juzk7">
        <dc:Bounds x="1652" y="119" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1y4z0lz_di" bpmnElement="Activity_0zbu3hx">
        <dc:Bounds x="1350" y="477" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_07irp2b_di" bpmnElement="Activity_1orghc2">
        <dc:Bounds x="990" y="487" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
